<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parser &mdash; awpy 1.1.9 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Visualization" href="visualization.html" />
    <link rel="prev" title="Data" href="data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> awpy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License and Acknowledgments</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="analytics.html">Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parser</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-awpy.parser.cleaning">awpy.parser.cleaning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#awpy.parser.cleaning.associate_entities"><code class="docutils literal notranslate"><span class="pre">associate_entities()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#awpy.parser.cleaning.replace_entities"><code class="docutils literal notranslate"><span class="pre">replace_entities()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-awpy.parser.demoparser">awpy.parser.demoparser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser"><code class="docutils literal notranslate"><span class="pre">DemoParser</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.demofile"><code class="docutils literal notranslate"><span class="pre">DemoParser.demofile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.demo_id"><code class="docutils literal notranslate"><span class="pre">DemoParser.demo_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.log"><code class="docutils literal notranslate"><span class="pre">DemoParser.log</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse_rate"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse_rate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse_frames"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse_frames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse_kill_frames"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse_kill_frames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.trade_time"><code class="docutils literal notranslate"><span class="pre">DemoParser.trade_time</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.dmg_rolled"><code class="docutils literal notranslate"><span class="pre">DemoParser.dmg_rolled</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.buy_style"><code class="docutils literal notranslate"><span class="pre">DemoParser.buy_style</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.clean_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.clean_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse_demo"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse_demo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.parse_json_to_df"><code class="docutils literal notranslate"><span class="pre">DemoParser.parse_json_to_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.read_json"><code class="docutils literal notranslate"><span class="pre">DemoParser.read_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_bad_scoring"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_bad_scoring()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_end_round"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_end_round()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_excess_kill_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_excess_kill_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_excess_players"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_excess_players()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_knife_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_knife_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_rounds_with_no_frames"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_rounds_with_no_frames()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_time_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_time_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.remove_warmups"><code class="docutils literal notranslate"><span class="pre">DemoParser.remove_warmups()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.renumber_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.renumber_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.rescore_rounds"><code class="docutils literal notranslate"><span class="pre">DemoParser.rescore_rounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#awpy.parser.demoparser.DemoParser.write_json"><code class="docutils literal notranslate"><span class="pre">DemoParser.write_json()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">awpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Parser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/parser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parser">
<h1>Parser<a class="headerlink" href="#parser" title="Permalink to this heading"></a></h1>
<p>This is the parser module. You can use it to parse and clean CSGO demos. To see what parsed demo looks like, and what the JSON keys indicate, please visit <a class="reference internal" href="parser_output.html"><span class="doc">Example Parser JSON</span></a>.</p>
<section id="module-awpy.parser.cleaning">
<span id="awpy-parser-cleaning"></span><h2>awpy.parser.cleaning<a class="headerlink" href="#module-awpy.parser.cleaning" title="Permalink to this heading"></a></h2>
<p>Data cleaning functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="awpy.parser.cleaning.associate_entities">
<span class="sig-prename descclassname"><span class="pre">awpy.parser.cleaning.</span></span><span class="sig-name descname"><span class="pre">associate_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">game_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lcss'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/cleaning.html#associate_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.cleaning.associate_entities" title="Permalink to this definition"></a></dt>
<dd><p>A function to return a dict of associated entities. Accepts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game_names</strong> (<em>list</em>) – A list of names generated by the demofile</p></li>
<li><p><strong>entity_names</strong> (<em>list</em>) – A list of names</p></li>
<li><p><strong>metric</strong> (<em>string</em>) – A string indicating distance metric, one of lcss, hamming, levenshtein, jaro, difflib</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where the keys are entries in game_names, values are the matched entity names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awpy.parser.cleaning.replace_entities">
<span class="sig-prename descclassname"><span class="pre">awpy.parser.cleaning.</span></span><span class="sig-name descname"><span class="pre">replace_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/cleaning.html#replace_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.cleaning.replace_entities" title="Permalink to this definition"></a></dt>
<dd><p>A function to replace values in a Pandas df column given an entity dict, as created in associate_entities()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – A Pandas DataFrame</p></li>
<li><p><strong>col_name</strong> (<em>string</em>) – A column in the Pandas DataFrame</p></li>
<li><p><strong>entity_dict</strong> (<em>dict</em>) – A dictionary as created in the associate_entities() function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataframe with replaced names.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-awpy.parser.demoparser">
<span id="awpy-parser-demoparser"></span><h2>awpy.parser.demoparser<a class="headerlink" href="#module-awpy.parser.demoparser" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">awpy.parser.demoparser.</span></span><span class="sig-name descname"><span class="pre">DemoParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">demofile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demo_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_frames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_kill_frames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dmg_rolled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hltv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_indentation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>DemoParser can parse, load and clean data from a CSGO demofile. Can be instantiated without a specified demofile.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.demofile">
<span class="sig-name descname"><span class="pre">demofile</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.demofile" title="Permalink to this definition"></a></dt>
<dd><p>A string denoting the path to the demo file, which ends in .dem</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.demo_id">
<span class="sig-name descname"><span class="pre">demo_id</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.demo_id" title="Permalink to this definition"></a></dt>
<dd><p>A unique demo name/game id. Default is inferred from demofile name</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.log">
<span class="sig-name descname"><span class="pre">log</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.log" title="Permalink to this definition"></a></dt>
<dd><p>A boolean indicating if the log should print to stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse_rate">
<span class="sig-name descname"><span class="pre">parse_rate</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse_rate" title="Permalink to this definition"></a></dt>
<dd><p>One of 128, 64, 32, 16, 8, 4, 2, or 1. The lower the value, the more frames are collected. Indicates spacing between parsed demo frames in ticks. Default is 128.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse_frames">
<span class="sig-name descname"><span class="pre">parse_frames</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse_frames" title="Permalink to this definition"></a></dt>
<dd><p>Flag if you want to parse frames (trajectory data) or not</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse_kill_frames">
<span class="sig-name descname"><span class="pre">parse_kill_frames</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse_kill_frames" title="Permalink to this definition"></a></dt>
<dd><p>Flag if you want to parse frames on kills</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.trade_time">
<span class="sig-name descname"><span class="pre">trade_time</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.trade_time" title="Permalink to this definition"></a></dt>
<dd><p>Length of the window for a trade (in seconds). Default is 5.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.dmg_rolled">
<span class="sig-name descname"><span class="pre">dmg_rolled</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.dmg_rolled" title="Permalink to this definition"></a></dt>
<dd><p>Boolean if you want damages rolled up (since multiple damages for a player can happen in 1 tick from the same weapon.)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.buy_style">
<span class="sig-name descname"><span class="pre">buy_style</span></span><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.buy_style" title="Permalink to this definition"></a></dt>
<dd><p>Buy style string, one of “hltv” or “csgo”</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – Raises a ValueError if the Golang version is lower than 1.17</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.clean_rounds">
<span class="sig-name descname"><span class="pre">clean_rounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remove_no_frames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_warmups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_knifes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_bad_timings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_excess_players</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_excess_kills</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_bad_endings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_bad_scoring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.clean_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.clean_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Cleans a parsed demofile JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remove_no_frames</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove rounds where there are no frames. Default to True.</p></li>
<li><p><strong>remove_warmups</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove warmup rounds. Defaults to True.</p></li>
<li><p><strong>remove_knifes</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove knife rounds. Defaults to True.</p></li>
<li><p><strong>remove_bad_timings</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove bad timings. Defaults to True.</p></li>
<li><p><strong>remove_excess_players</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove rounds with more than 5 players. Defaults to True.</p></li>
<li><p><strong>remove_excess_kills</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove rounds with more than 10 kills. Defaults to True.</p></li>
<li><p><strong>remove_bad_endings</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove rounds with bad round end reasons. Defaults to True.</p></li>
<li><p><strong>remove_bad_scoring</strong> (<em>bool</em><em>, </em><em>optional</em>) – Remove rounds where the scoring is off (like scores going below the previous round’s). Defaults to False.</p></li>
<li><p><strong>return_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Return JSON or DataFrame. Defaults to “json”.</p></li>
<li><p><strong>save_to_json</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to write the JSON to a file. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of the cleaned demo.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper for parse_demo() and read_json(). Use to parse a demo.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>return_type</strong> (<em>string</em>) – Either “json” or “df”</p></li>
<li><p><strong>clean</strong> (<em>bool</em><em>, </em><em>optional</em>) – True to run clean_rounds, otherwise, uncleaned data is returned. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of output (which is parsed to a JSON file in the working directory)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – Raises a ValueError if the return_type is not “json” or “df”</p></li>
<li><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse_demo">
<span class="sig-name descname"><span class="pre">parse_demo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.parse_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse_demo" title="Permalink to this definition"></a></dt>
<dd><p>Parse a demofile using the Go script parse_demo.go – this function needs the .demofile to be set in the class, and the file needs to exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Outputs a JSON file to current working directory.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Raises a ValueError if the Golang version is lower than 1.17</p></li>
<li><p><strong>FileNotFoundError</strong> – Raises a FileNotFoundError if the demofile path does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.parse_json_to_df">
<span class="sig-name descname"><span class="pre">parse_json_to_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.parse_json_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.parse_json_to_df" title="Permalink to this definition"></a></dt>
<dd><p>Returns JSON into dictionary where keys correspond to data frames</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of output</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.read_json">
<span class="sig-name descname"><span class="pre">read_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.read_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.read_json" title="Permalink to this definition"></a></dt>
<dd><p>Reads the JSON file given a JSON path. Can be used to read in already processed demofiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>json_path</strong> (<em>string</em>) – Path to JSON file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON in Python dictionary form</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>FileNotFoundError</strong> – Raises a FileNotFoundError if the JSON path doesn’t exist</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_bad_scoring">
<span class="sig-name descname"><span class="pre">remove_bad_scoring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_bad_scoring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_bad_scoring" title="Permalink to this definition"></a></dt>
<dd><p>Removes rounds where the scoring is bad.</p>
<p>We loop through the rounds:
If the round ahead has equal or less score, we do not add the current round.
If the round ahead has +1 score, we add the current round</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_end_round">
<span class="sig-name descname"><span class="pre">remove_end_round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bad_endings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Draw',</span> <span class="pre">'Unknown',</span> <span class="pre">'']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_end_round"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_end_round" title="Permalink to this definition"></a></dt>
<dd><p>Removes rounds with bad end reason.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bad_endings</strong> (<em>list</em><em>, </em><em>optional</em>) – List of bad round end reasons. Defaults to [“Draw”, “Unknown”, “”].</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_excess_kill_rounds">
<span class="sig-name descname"><span class="pre">remove_excess_kill_rounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_excess_kill_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_excess_kill_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Removes rounds with more than 10 kills.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_excess_players">
<span class="sig-name descname"><span class="pre">remove_excess_players</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_excess_players"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_excess_players" title="Permalink to this definition"></a></dt>
<dd><p>Removes rounds where there are more than 5 players on a side.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_knife_rounds">
<span class="sig-name descname"><span class="pre">remove_knife_rounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_knife_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_knife_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Removes knife rounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_rounds_with_no_frames">
<span class="sig-name descname"><span class="pre">remove_rounds_with_no_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_rounds_with_no_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_rounds_with_no_frames" title="Permalink to this definition"></a></dt>
<dd><p>Removes rounds with no frames</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_time_rounds">
<span class="sig-name descname"><span class="pre">remove_time_rounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_time_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_time_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Remove rounds with odd round timings.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.remove_warmups">
<span class="sig-name descname"><span class="pre">remove_warmups</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.remove_warmups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.remove_warmups" title="Permalink to this definition"></a></dt>
<dd><p>Removes warmup rounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.renumber_rounds">
<span class="sig-name descname"><span class="pre">renumber_rounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.renumber_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.renumber_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Renumbers the rounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute has a “gameRounds” key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.rescore_rounds">
<span class="sig-name descname"><span class="pre">rescore_rounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.rescore_rounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.rescore_rounds" title="Permalink to this definition"></a></dt>
<dd><p>Rescore the rounds based on round end reason.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Raises an AttributeError if the .json attribute has a “gameRounds” key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="awpy.parser.demoparser.DemoParser.write_json">
<span class="sig-name descname"><span class="pre">write_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/awpy/parser/demoparser.html#DemoParser.write_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#awpy.parser.demoparser.DemoParser.write_json" title="Permalink to this definition"></a></dt>
<dd><p>Rewrite the JSON file</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data.html" class="btn btn-neutral float-left" title="Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="visualization.html" class="btn btn-neutral float-right" title="Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Peter Xenopoulos.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>